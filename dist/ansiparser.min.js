'use strict';(function(){function h(d){return String.fromCharCode(d)}function a(d,a){return e.slice(d,a)}function b(d){this.F=[{},{},{},{},{},{},{},{},{},{},{},{},{},{}];this.d=this.v=null;this.n=this.A=0;this.r=this.j=null;this.h=this.m=this.p=this.c=this.o="";this.f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13];this.e=d||{};d="inst_p inst_o inst_x inst_c inst_e inst_H inst_P inst_U".split(" ");for(var a=0;a<d.length;++a)d[a]in this.e||(this.e[d[a]]=function(){});this.J()}for(var e=Array(256),f=0;f<e.length;f++)e[f]=
f;var e=e.map(h),g=a(32,127),c=a(0,24);c.push(h(25));b.prototype.reset=function(){this.n=this.A;this.d=null;this.h=this.m=this.p=this.c=this.o=""};b.prototype.b=function(d,a,b,c){void 0===c&&(c=a);this.F[a][d]=[b,c]};b.prototype.a=function(a,b,c,e){void 0===e&&(e=b);for(var f=0;f<a.length;f++)this.b(a[f],b,c,e)};b.prototype.M=function(a){this.v=[a,0]};b.prototype.L=function(a){this.d=a;a=this.F[this.n][a]||this.v;this.r=a[0];this.j=a[1];this.r&&this.r();this.n=this.j;this.j=null};b.prototype.w=function(){return this.p.split(";").slice(0,
16).map(function(a){return a?parseInt(a,10):0})};b.prototype.I=function(){if("\u009f"<this.d){switch(this.n){case 0:this.D();return;case 8:this.B();this.j=8;return;case 6:this.j=6;return;case 11:this.j=11;return;case 13:this.u();this.j=13;return}console.error("ANSIParser: unkown symbol ("+this.d+") in state ("+this.n+")")}};b.prototype.D=function(){this.c+=this.d};b.prototype.i=function(){""!==this.c&&(this.e.inst_p(this.c),this.c="");this.e.inst_x(this.d)};b.prototype.C=function(){""!==this.c&&(this.e.inst_p(this.c),
this.c="")};b.prototype.B=function(){this.o+=this.d};b.prototype.K=function(){this.e.inst_o(this.o);"\u001b"==this.d&&(this.l(),this.j=1)};b.prototype.s=function(){this.e.inst_c(this.m,this.w(),this.d)};b.prototype.k=function(){this.p+=this.d};b.prototype.g=function(){this.m+=this.d};b.prototype.q=function(){this.e.inst_e(this.m,this.d)};b.prototype.l=function(){this.G=this.h=this.m=this.p=this.o="";""!==this.c&&(this.e.inst_p(this.c),this.c="")};b.prototype.t=function(){this.e.inst_H(this.m,this.w(),
this.G)};b.prototype.u=function(){this.h+=this.d};b.prototype.H=function(){""!==this.h&&(this.e.inst_P(this.h),this.h="");this.e.inst_U();"\u001b"==this.d&&(this.l(),this.j=1)};b.prototype.parse=function(a){for(var b=0;b<a.length;b++)this.L(a.charAt(b));""!==this.c?(this.e.inst_p(this.c),this.c=""):""!==this.h&&13==this.n&&(this.e.inst_P(this.h),this.h="")};b.prototype.J=function(){this.M(this.I);this.a(g,0,this.D);for(var b=0;b<this.f.length;b++)this.a(["\u0018","\u001a","\u0099","\u009a"],this.f[b],
this.i,0),this.a(a(128,144),this.f[b],this.i,0),this.a(a(144,152),this.f[b],this.i,0),this.b("\u009c",this.f[b],null,0),this.b("\u001b",this.f[b],this.l,1),this.b("\u009d",this.f[b],this.C,8),this.a(["\u0098\u009e\u009f"],this.f[b],null,7),this.b("\u009b",this.f[b],this.l,3),this.b("\u0090",this.f[b],this.l,9);this.a(c,0,this.i);this.a(c,1,this.i);this.b("\u007f",1);this.a(c,8);this.a(c,3,this.i);this.b("\u007f",3);this.a(c,4,this.i);this.b("\u007f",4);this.a(c,6,this.i);this.a(c,5,this.i);this.b("\u007f",
5);this.a(c,2,this.i);this.b("\u007f",2);this.b("]",1,this.C,8);this.a(g,8,this.B);this.a(["\u009c","\u001b","\u0018","\u001a","\u0007"],8,this.K,0);this.a(["X","^","_"],1,null,7);this.a(g,7);this.a(c,7);this.b("\u009c",7,null,0);this.b("[",1,this.l,3);this.a(a(64,127),3,this.s,0);this.a(a(48,58),3,this.k,4);this.b(";",3,this.k,4);this.a(["<","=",">","?"],3,this.g,4);this.a(a(48,58),4,this.k);this.b(";",4,this.k);this.a(a(64,127),4,this.s,0);this.a([":","<","=",">","?"],4,null,6);this.a(a(32,64),
6);this.b("\u007f",6);this.a(a(64,127),6,null,0);this.b(":",3,null,6);this.a(a(32,48),3,this.g,5);this.a(a(32,48),5,this.g);this.a(a(48,64),5,null,6);this.a(a(64,127),5,this.s,0);this.a(a(32,48),4,this.g,5);this.a(a(32,48),1,this.g,2);this.a(a(32,48),2,this.g);this.a(a(48,127),2,this.q,0);this.a(a(48,80),1,this.q,0);this.a("QRSTUVWYZ\\".split(""),1,this.q,0);this.a(a(96,127),1,this.q,0);this.b("P",1,this.l,9);this.a(c,9);this.b("\u007f",9);this.a(a(32,48),9,this.g,12);this.b(":",9,null,11);this.a(a(48,
58),9,this.k,10);this.b(";",9,this.k,10);this.a(["<","=",">","?"],9,this.g,10);this.a(c,11);this.a(a(32,128),11);this.a(c,10);this.b("\u007f",10);this.a(a(48,58),10,this.k);this.b(";",10,this.k);this.a([":","<","=",">","?"],10,null,11);this.a(a(32,48),10,this.g,12);this.a(c,12);this.b("\u007f",12);this.a(a(32,48),12,this.g);this.a(a(48,64),12,null,11);this.a(a(64,127),12,this.t,13);this.a(a(64,127),10,this.t,13);this.a(a(64,127),9,this.t,13);this.a(c,13,this.u);this.a(g,13,this.u);this.b("\u007f",
13);this.a(["\u001b","\u009c"],13,this.H,0)};"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports=b:"function"===typeof define&&define.amd?define([],function(){return b}):window.AnsiParser=b})();
